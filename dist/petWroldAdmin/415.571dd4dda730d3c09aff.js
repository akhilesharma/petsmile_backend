"use strict";(self.webpackChunkpetsmile_admin=self.webpackChunkpetsmile_admin||[]).push([[415],{415:(lt,v,l)=>{l.r(v),l.d(v,{SharedModule:()=>at});var d=l(8583),t=l(7716),b=l(8266),A=l(3905),q=l(3738),s=l(3679),u=l(8295),Z=l(9983);let x=(()=>{class o{constructor(){this.hide=!0,this.hide1=!0}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-change-password"]],decls:33,vars:0,consts:[["id","wrapper"],[1,"layout-main","dashboardPage"],[1,"layout-content"],[1,"layout-content-body"],[1,"container-fluid"],[1,"title-bar"],[1,"title-bar-title"],[1,""],[1,"row","gutter-xs"],[1,"container"],[1,"card_section","my-3"],[1,"row"],[1,"col-12"],[1,"profile_image","text-center"],["src","assets/image/placeholder.jpg","alt","","height","100px",1,"rounded-circle"],[1,"form-group"],["for",""],["appearance","fill",1,"form-control"],["matInput","","placeholder","Enter New Password","autocomplete","off"],["matInput","","placeholder","Confirm New Password","autocomplete","off"],[1,"form-group","text-center","mt-4"],["type","button",1,"btn","btn-primary","wpx-120"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-header"),t.TgZ(2,"div",1),t._UZ(3,"app-left-sidebar"),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"h1",6),t.TgZ(9,"span",7),t._uU(10,"Change Password"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t.TgZ(14,"mat-card"),t.TgZ(15,"div",11),t.TgZ(16,"div",12),t.TgZ(17,"div",13),t._UZ(18,"img",14),t.qZA(),t.TgZ(19,"form"),t.TgZ(20,"div",15),t.TgZ(21,"label",16),t._uU(22,"Enter New Password"),t.qZA(),t.TgZ(23,"mat-form-field",17),t._UZ(24,"input",18),t.qZA(),t.qZA(),t.TgZ(25,"div",15),t.TgZ(26,"label",16),t._uU(27,"Enter Confirm Password"),t.qZA(),t.TgZ(28,"mat-form-field",17),t._UZ(29,"input",19),t.qZA(),t.qZA(),t.TgZ(30,"div",20),t.TgZ(31,"button",21),t._uU(32,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},directives:[b.G,A.u,q.a8,s._Y,s.JL,s.F,u.KE,Z.Nt],styles:[""]}),o})();var c=l(3423),m=l(9573),f=l(2290),w=l(1095);function I(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"Email Is Required."),t.qZA())}function P(o,r){if(1&o&&(t.TgZ(0,"div",24),t.YNc(1,I,2,0,"div",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.email.errors.required)}}function N(o,r){1&o&&t._UZ(0,"i",26)}function F(o,r){1&o&&t._UZ(0,"i",27)}function O(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"Password Is Required."),t.qZA())}function k(o,r){if(1&o&&(t.TgZ(0,"div",24),t.YNc(1,O,2,0,"div",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.password.errors.required)}}const T=function(o){return{"is-invalid":o}};let J=(()=>{class o{constructor(e,n,i,a){this.api=e,this.fb=n,this.toaster=i,this.router=a,this.hide=!0,this.submitted=!1,this.invalidLogin=!1}ngOnInit(){this.loginForm=this.fb.group({email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required]]}),this.admindata=JSON.parse(localStorage.getItem("current_admin")),console.log("Local storage",this.admindata),this.admindata&&this.router.navigate(["/home/dashboard"])}get f(){return this.loginForm.controls}loginAdmin(){this.submitted=!0,this.loginForm.invalid||this.api.login({email:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe(n=>{console.log("This is admin data",n),this.toaster.success(n.message),this.router.navigateByUrl("/home/dashboard"),localStorage.setItem("current_admin",JSON.stringify(n.response))},n=>{console.log(n),this.toaster.error(n.error.message)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.s),t.Y36(s.qu),t.Y36(f._W),t.Y36(c.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:31,vars:14,consts:[[1,"h-100","gradient-form",2,"background-color","#fff"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-xl-10"],[1,"rounded-3","text-black"],[1,"row","g-0","d-flex","justify-content-center"],[1,"col-lg-6","card",2,"background-color","#55D1EC"],[1,"card-body","p-md-5","mx-md-4"],[1,"text-center","mb-5"],["src","assets/image/logo.svg","alt","logo",2,"width","185px"],[3,"formGroup"],[1,"form-group"],["for",""],["type","email","formControlName","email","name","","placeholder","Enter Email Address",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["appearance","fill",1,"form-control"],["matInput","","formControlName","password","placeholder","Enter Password","autocomplete","off","placeholder","Enter Password",3,"type","ngClass"],["mat-icon-button","","matSuffix","",3,"click"],["class","fa fa-eye",4,"ngIf"],["class","fa fa-eye-slash",4,"ngIf"],[1,"form-group","text-end"],["routerLink","/forgot-password"],[1,"form-group","text-center","mt-4"],["type","button",1,"btn","btn-primary","wpx-120",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t._UZ(9,"img",9),t.qZA(),t.TgZ(10,"form",10),t.TgZ(11,"div",11),t.TgZ(12,"label",12),t._uU(13,"Enter Email Address"),t.qZA(),t._UZ(14,"input",13),t.YNc(15,P,2,1,"div",14),t.qZA(),t.TgZ(16,"div",11),t.TgZ(17,"label",12),t._uU(18,"Enter Password"),t.qZA(),t.TgZ(19,"mat-form-field",15),t._UZ(20,"input",16),t.TgZ(21,"button",17),t.NdJ("click",function(){return n.hide=!n.hide}),t.YNc(22,N,1,0,"i",18),t.YNc(23,F,1,0,"i",19),t.qZA(),t.qZA(),t.YNc(24,k,2,1,"div",14),t.qZA(),t.TgZ(25,"div",20),t.TgZ(26,"a",21),t._uU(27,"Forgot password?"),t.qZA(),t.qZA(),t.TgZ(28,"div",22),t.TgZ(29,"button",23),t.NdJ("click",function(){return n.loginAdmin()}),t._uU(30,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("formGroup",n.loginForm),t.xp6(4),t.Q6J("ngClass",t.VKq(10,T,n.submitted&&n.f.email.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.email.errors),t.xp6(5),t.Q6J("type",n.hide?"password":"text")("ngClass",t.VKq(12,T,n.submitted&&n.f.password.errors)),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",n.hide),t.xp6(1),t.Q6J("ngIf",1==n.hide),t.xp6(1),t.Q6J("ngIf",0==n.hide),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.password.errors))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,d.mk,d.O5,u.KE,Z.Nt,w.lW,u.R9,c.yS],styles:[".invalid-feedback[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}"]}),o})();function S(o,r){return e=>{const i=e.controls[r];i.errors&&!i.errors.mustMatch||i.setErrors(e.controls[o].value!==i.value?{mustMatch:!0}:null)}}function U(o,r){1&o&&t._UZ(0,"i",31)}function Y(o,r){1&o&&t._UZ(0,"i",32)}function M(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"Password is required."),t.qZA())}function E(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"Password must be at least 8 characters."),t.qZA())}function R(o,r){if(1&o&&(t.TgZ(0,"div",33),t.YNc(1,M,2,0,"div",34),t.YNc(2,E,2,0,"div",34),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.newPassword.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.newPassword.errors.minlength)}}function L(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"Password is required."),t.qZA())}function K(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"Password must be at least 8 characters."),t.qZA())}function Q(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"Password does not matching."),t.qZA())}function V(o,r){if(1&o&&(t.TgZ(0,"div",33),t.YNc(1,L,2,0,"div",34),t.YNc(2,K,2,0,"div",34),t.YNc(3,Q,2,0,"div",34),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.confirmPassword.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.confirmPassword.errors.minlength),t.xp6(1),t.Q6J("ngIf",e.f.confirmPassword.errors.mustMatch)}}const y=function(o){return{"is-invalid":o}};let D=(()=>{class o{constructor(e,n,i,a){this.api=e,this.router=n,this.fb=i,this.toaster=a,this.hide=!0,this.submitted=!1}ngOnInit(){this.resetForm=this.fb.group({newPassword:["",[s.kI.required,s.kI.minLength(8)]],confirmPassword:["",[s.kI.required,s.kI.minLength(8)]]},{validators:S("newPassword","confirmPassword")})}get f(){return this.resetForm.controls}resetPass(){if(this.submitted=!0,this.resetForm.invalid)return;let n={email:JSON.parse(localStorage.getItem("current_admin")).email,newPassword:this.resetForm.value.newPassword,confirmPassword:this.resetForm.value.confirmPassword};this.api.resetPassword(n).subscribe(i=>{console.log("Reset pass data",i),localStorage.removeItem("current_admin"),localStorage.clear(),i?(this.toaster.success("Password changed successfully"),this.router.navigate(["/login"])):this.router.navigate(["/forgot-password"])},i=>{this.toaster.error(i.message)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.s),t.Y36(c.F0),t.Y36(s.qu),t.Y36(f._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-reset-password"]],decls:38,vars:14,consts:[[1,"h-100","gradient-form",2,"background-color","#fff"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-xl-10"],[1,"rounded-3","text-black"],[1,"row","g-0","d-flex","justify-content-center"],[1,"col-lg-6","card",2,"background-color","#55D1EC"],[1,"card-body","p-md-5","mx-md-4"],[1,"text-center","mb-5"],["src","assets/image/logo.svg","alt","logo",2,"width","185px"],[3,"formGroup"],[1,"form-group"],["for",""],["appearance","fill",1,"form-control"],["matInput","","placeholder","Enter New Password","formControlName","newPassword",3,"type","ngClass"],["mat-icon-button","","matSuffix","",3,"click"],["class","fa fa-eye",4,"ngIf"],["class","fa fa-eye-slash",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["type","password","name","","formControlName","confirmPassword","placeholder","Re-enter New Password",1,"form-control",3,"ngClass"],[1,"form-group","text-center","mt-4"],["type","button","data-bs-toggle","modal",1,"btn","btn-primary","wpx-120",3,"click"],["id","successModal",1,"modal"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"btn-close"],[1,"fa","fa-times"],[1,"modal-body","py-5"],[1,""],[1,"text-center","sub-title"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t._UZ(9,"img",9),t.qZA(),t.TgZ(10,"form",10),t.TgZ(11,"div",11),t.TgZ(12,"label",12),t._uU(13,"Enter New Password"),t.qZA(),t.TgZ(14,"mat-form-field",13),t._UZ(15,"input",14),t.TgZ(16,"button",15),t.NdJ("click",function(){return n.hide=!n.hide}),t.YNc(17,U,1,0,"i",16),t.YNc(18,Y,1,0,"i",17),t.qZA(),t.qZA(),t.YNc(19,R,3,2,"div",18),t.qZA(),t.TgZ(20,"div",11),t.TgZ(21,"label",12),t._uU(22,"Re-enter New Password"),t.qZA(),t._UZ(23,"input",19),t.YNc(24,V,4,3,"div",18),t.qZA(),t.TgZ(25,"div",20),t.TgZ(26,"button",21),t.NdJ("click",function(){return n.resetPass()}),t._uU(27,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",22),t.TgZ(29,"div",23),t.TgZ(30,"div",24),t.TgZ(31,"div",25),t.TgZ(32,"button",26),t._UZ(33,"i",27),t.qZA(),t.qZA(),t.TgZ(34,"div",28),t._UZ(35,"div",29),t.TgZ(36,"p",30),t._uU(37,"Password Changed Successfully"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("formGroup",n.resetForm),t.xp6(5),t.Q6J("type",n.hide?"password":"text")("ngClass",t.VKq(10,y,n.submitted&&n.f.newPassword.errors)),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",n.hide),t.xp6(1),t.Q6J("ngIf",1==n.hide),t.xp6(1),t.Q6J("ngIf",0==n.hide),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.newPassword.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(12,y,n.submitted&&n.f.confirmPassword.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.confirmPassword.errors))},directives:[s._Y,s.JL,s.sg,u.KE,Z.Nt,s.Fj,s.JJ,s.u,d.mk,w.lW,u.R9,d.O5],styles:[".invalid-feedback[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}"]}),o})();function j(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"Email Is Required."),t.qZA())}function B(o,r){if(1&o&&(t.TgZ(0,"div",17),t.YNc(1,j,2,0,"div",18),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.g.email.errors.required)}}const G=function(o){return{"is-invalid":o}};let z=(()=>{class o{constructor(e,n,i,a){this.api=e,this.fb=n,this.router=i,this.toaster=a,this.submitted=!1}ngOnInit(){this.forgetForm=this.fb.group({email:["",[s.kI.required,s.kI.email]]})}get g(){return this.forgetForm.controls}forgetPass(){this.submitted=!0,!this.forgetForm.invalid&&this.api.forgetPasword(this.forgetForm.value).subscribe(e=>{console.log(),this.toaster.success(e.message),this.router.navigate(["/otp"])},e=>{console.log(e),this.toaster.error(e.error.message)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.s),t.Y36(s.qu),t.Y36(c.F0),t.Y36(f._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-forgot-password"]],decls:19,vars:5,consts:[[1,"h-100","gradient-form",2,"background-color","#fff"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-xl-10"],[1,"rounded-3","text-black"],[1,"row","g-0","d-flex","justify-content-center"],[1,"col-lg-6","card",2,"background-color","#55D1EC"],[1,"card-body","p-md-5","mx-md-4"],[1,"text-center","mb-5"],["src","assets/image/logo.svg","alt","logo",2,"width","185px"],[3,"formGroup"],[1,"form-group"],["for",""],["type","email","name","","formControlName","email","name","","placeholder","Enter Register Email ID",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","text-center","mt-4"],["type","button",1,"btn","btn-primary","wpx-120",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t._UZ(9,"img",9),t.qZA(),t.TgZ(10,"form",10),t.TgZ(11,"div",11),t.TgZ(12,"label",12),t._uU(13,"Enter Register Email ID"),t.qZA(),t._UZ(14,"input",13),t.YNc(15,B,2,1,"div",14),t.qZA(),t.TgZ(16,"div",15),t.TgZ(17,"button",16),t.NdJ("click",function(){return n.forgetPass()}),t._uU(18,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("formGroup",n.forgetForm),t.xp6(4),t.Q6J("ngClass",t.VKq(3,G,n.submitted&&n.g.email.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.g.email.errors))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,d.mk,d.O5],styles:[""]}),o})();function H(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"input",3,4),t.NdJ("paste",function(i){return t.CHM(e),t.oxw(2).handlePaste(i)})("keyup",function(i){const g=t.CHM(e).index;return t.oxw(2).onKeyUp(i,g)})("input",function(i){return t.CHM(e),t.oxw(2).onInput(i)})("keydown",function(i){const g=t.CHM(e).index;return t.oxw(2).onKeyDown(i,g)}),t.qZA()}if(2&o){const e=r.$implicit,n=r.index,i=t.oxw(2);t.Gre("otp-input ",i.config.inputClass,""),t.hYB("id","otp_",n,"_",i.componentKey,""),t.Q6J("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[e])}}function X(o,r){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,H,2,10,"input",2),t.ALo(2,"keys"),t.qZA()),2&o){const e=t.oxw();t.Gre("ng-otp-input-wrapper wrapper ",e.config.containerClass,""),t.MGl("id","c_",e.componentKey,""),t.Q6J("ngStyle",e.config.containerStyles),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,6,null==e.otpForm?null:e.otpForm.controls))}}class h{static ifBackspaceOrDelete(r){return this.ifKey(r,"Backspace;Delete;Del")}static ifRightArrow(r){return this.ifKey(r,"ArrowRight;Right")}static ifLeftArrow(r){return this.ifKey(r,"ArrowLeft;Left")}static ifSpacebar(r){return this.ifKey(r,"Spacebar; ")}static ifKey(r,e){return e.split(";").some(i=>i===r.key)}}let _=(()=>{class o{transform(e){return Object.keys(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"keys",type:o,pure:!0}),o})(),W=(()=>{class o{constructor(e){this.keysPipe=e,this.config={length:4},this.onInputChange=new t.vpe,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){var e,n;return(null===(e=this.config)||void 0===e?void 0:e.isPasswordInput)?"password":(null===(n=this.config)||void 0===n?void 0:n.allowNumbersOnly)?"tel":"text"}ngOnInit(){this.otpForm=new s.cw({});for(let e=0;e<this.config.length;e++)this.otpForm.addControl(this.getControlName(e),new s.NI);this.otpForm.valueChanges.subscribe(e=>{this.keysPipe.transform(this.otpForm.controls).forEach(n=>{var i=this.otpForm.controls[n].value;i&&i.length>1&&(i.length>=this.config.length?this.setValue(i):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const e=document.getElementById(`c_${this.componentKey}`);if(e){const n=e.getElementsByClassName("otp-input")[0];n&&n.focus&&n.focus()}}}getControlName(e){return`ctrl_${e}`}onKeyDown(e,n){if(h.ifSpacebar(e))return e.preventDefault(),!1}onInput(e){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${e.target.value}`:e.target.value))return e.target.value="",e.stopPropagation(),void e.preventDefault()}onKeyUp(e,n){const i=this.appendKey(`otp_${n+1}`),a=this.appendKey("otp_"+(n-1));return h.ifRightArrow(e)?(e.preventDefault(),void this.setSelected(i)):h.ifLeftArrow(e)?(e.preventDefault(),void this.setSelected(a)):h.ifBackspaceOrDelete(e)&&!e.target.value?(this.setSelected(a),void this.rebuildValue()):void(!e.target.value||(this.ifValidKeyCode(e)&&this.setSelected(i),this.rebuildValue()))}validateNumber(e){return e&&/^\d*\.?\d*$/.test(e)}appendKey(e){return`${e}_${this.componentKey}`}setSelected(e){this.focusTo(e);const n=document.getElementById(e);n&&n.setSelectionRange&&setTimeout(()=>{n.setSelectionRange(0,1)},0)}ifValidKeyCode(e){const n=e.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(n)||this.config.allowKeyCodes&&this.config.allowKeyCodes.includes(e.keyCode)}focusTo(e){const n=document.getElementById(e);n&&n.focus()}setValue(e){if(!this.config.allowNumbersOnly||!isNaN(e)){if(this.otpForm.reset(),!e)return void this.rebuildValue();if(e=e.toString().replace(/\s/g,""),Array.from(e).forEach((i,a)=>{this.otpForm.get(this.getControlName(a))&&this.otpForm.get(this.getControlName(a)).setValue(i)}),!this.config.disableAutoFocus){const i=document.getElementById(`c_${this.componentKey}`);var n=e.length<this.config.length?e.length:this.config.length-1;let a=i.getElementsByClassName("otp-input")[n];a&&a.focus&&a.focus()}this.rebuildValue()}}rebuildValue(){var e;let n="";this.keysPipe.transform(this.otpForm.controls).forEach(i=>{if(this.otpForm.controls[i].value){let a=this.otpForm.controls[i].value,g=a.length>1,p=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());a=a[0];let C=p?"upper"==this.config.letterCase.toLocaleLowerCase()?a.toUpperCase():a.toLowerCase():a;p&&C==a?p=!1:a=C,n+=a,(g||p)&&this.otpForm.controls[i].setValue(a)}}),(null===(e=this.formCtrl)||void 0===e?void 0:e.setValue)&&this.formCtrl.setValue(n),this.onInputChange.emit(n),this.currentVal=n}handlePaste(e){let n=e.clipboardData||window.clipboardData;if(n)var i=n.getData("Text");e.stopPropagation(),e.preventDefault(),i&&(!this.config.allowNumbersOnly||this.validateNumber(i))&&this.setValue(i)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(e,n){1&e&&t.YNc(0,X,3,8,"div",0),2&e&&t.Q6J("ngIf",null==n.otpForm?null:n.otpForm.controls)},directives:[d.O5,d.PC,d.sg,s.Fj,s.c5,s.JJ,s.oH],pipes:[_],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),o})(),$=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[_],imports:[[d.ez,s.u5,s.UX]]}),o})();const tt=["ngOtpInput"],et=function(){return{length:4,inputClass:"dot",allowNumbersOnly:!0}};function ot(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"ng-otp-input",16,17),t.NdJ("onInputChange",function(i){return t.CHM(e),t.oxw().onOtpChange(i)}),t.qZA()}2&o&&t.Q6J("config",t.DdM(1,et))}const nt=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:J},{path:"reset-password",component:D},{path:"forgot-password",component:z},{path:"otp",component:(()=>{class o{constructor(e,n,i,a){this.fb=e,this.api=n,this.toster=i,this.router=a,this.showOtpComponent=!0,this.config={allowNumbersOnly:!0,length:4,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px"}},this.submitted=!1}onOtpChange(e){this.otp=e}setVal(e){this.ngOtpInput.setValue(e)}toggleDisable(){this.ngOtpInput.otpForm&&(this.ngOtpInput.otpForm.disabled?this.ngOtpInput.otpForm.enable():this.ngOtpInput.otpForm.disable())}onConfigChange(){this.showOtpComponent=!1,this.otp="",setTimeout(()=>{this.showOtpComponent=!0},0)}ngOnInit(){console.log("This is OTP component",this.admindata),this.otpForm=this.fb.group({varificationCode:["",[s.kI.required,s.kI.pattern(/\-?\d*\.?\d{1,2}/)]]})}get f(){return this.otpForm.controls}optverify(){this.submitted=!0,this.api.otpVerification({varificationCode:this.otp}).subscribe(e=>{this.currentAdmin=localStorage.setItem("current_admin",JSON.stringify(e.response)),this.toster.success(e.message),this.router.navigate(["/reset-password"])},e=>{console.log(e),this.toster.error(e.error.message)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(m.s),t.Y36(f._W),t.Y36(c.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-otp"]],viewQuery:function(e,n){if(1&e&&t.Gf(tt,5),2&e){let i;t.iGM(i=t.CRH())&&(n.ngOtpInput=i.first)}},decls:20,vars:1,consts:[[1,"h-100","gradient-form",2,"background-color","#fff"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-xl-10"],[1,"rounded-3","text-black"],[1,"row","g-0","d-flex","justify-content-center"],[1,"col-lg-6","card",2,"background-color","#55D1EC"],[1,"card-body","p-md-5","mx-md-4"],[1,"text-center","mb-5"],["src","assets/image/logo.svg","alt","logo",2,"width","185px"],[1,"form-group","otp-align"],[1,""],["for",""],[3,"config","onInputChange",4,"ngIf"],[1,"form-group","text-center","mt-4"],["type","button",1,"btn","btn-primary","wpx-120",3,"click"],[3,"config","onInputChange"],["ngOtpInput",""]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t._UZ(9,"img",9),t.qZA(),t.TgZ(10,"form"),t.TgZ(11,"div",10),t.TgZ(12,"div",11),t.TgZ(13,"label",12),t._uU(14,"Please verify OTP"),t.qZA(),t.qZA(),t.TgZ(15,"div"),t.YNc(16,ot,2,2,"ng-otp-input",13),t.qZA(),t.qZA(),t.TgZ(17,"div",14),t.TgZ(18,"button",15),t.NdJ("click",function(){return n.optverify()}),t._uU(19,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngIf",n.showOtpComponent))},directives:[s._Y,s.JL,s.F,d.O5,W],styles:[".otp-align[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}"]}),o})()},{path:"change-password",component:x}];let it=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(nt)],c.Bz]}),o})();var rt=l(5449),st=l(7910);let at=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,it,s.u5,s.UX,$,rt.R,st.c]]}),o})()}}]);